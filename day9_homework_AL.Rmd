---
title: "Day 9 Homework"
author: "Alia Lancaster"
output: html_document
---
packages and functions
```{r}
library(dplyr)
library(reshape2)

std.err <- function(x, ignore.na = TRUE) { 
  if(!ignore.na) {
    output <- sd(x)/sqrt(length(x)) 
  } else {
    numer <- sd(x, na.rm = TRUE)
    denom <- sqrt(length(which(!is.na(x))))
    output <- numer/denom
  }
  output
}
```


1. Write a function to do a bunch of clean-up and formatting to your data.

Note: I'm using the dataset without dprime, "ax_AL".  Both datasets I've used should be in my repo.


```{r}
ax <- read.csv("ax_AL.csv")
summary(ax)
one <- vector(length=nrow(ax))
ax<- cbind(ax, one)

# what I want my function to do

# create hits, FA, misses, and cr columns then calculate proportions of hits and false alarms.  Just a skelton for now, since the pairs aren't quite right.
ax$HITS <- ifelse(ax$correct_response=="0" & ax$ACC==1,1,0)
ax$FA <- ifelse(ax$correct_response=="0" & ax$ACC==0,1,0)
ax$m <- ifelse(ax$correct_response=="1" & ax$ACC==0,1,0)
ax$cr <- ifelse(ax$correct_response=="1" & ax$ACC==1,1,0)
summary(ax)

# function
make.newcol <- function(data){
  HITS <- ifelse(data$correct_response=="0" & data$ACC==1,1,0)
  FA <- ifelse(data$correct_response=="0" & data$ACC==0,1,0)
  m <- ifelse(data$correct_response=="1" & data$ACC==0,1,0)
  cr <- ifelse(data$correct_response=="1" & data$ACC==1,1,0)
  data <- cbind(data, HITS, FA, m, cr) 
}

ax <- make.newcol(ax)
summary(ax)




```


2. Make sure this function works on your data.

```{r}
ax <- read.csv("ax_AL.csv")

ax <- make.newcol(ax)
summary(ax)



```


3. Get some subset of your data, or find a similar-but-not-identical data set.  Change up the column order.  Re-run your function on this new data.  Does it work?

4. Fix your function to be able to work on the new data.

5. Write a function to do some kind of summary stat, and use the `dplyr` functions to run this function over groups of your data.

 - proportion of hits (hits/hits+ misses) and proportion of false alarms (fa/fa+cr)

